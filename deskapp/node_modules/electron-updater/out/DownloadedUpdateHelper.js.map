{"version":3,"file":"DownloadedUpdateHelper.js","sourceRoot":"","sources":["../src/DownloadedUpdateHelper.ts"],"names":[],"mappings":";;;;;;;;;AACA,AAAO,AAAO,AAAM,AAAgB;;;;;;AAGpC,AAAgB,AAChB,AAAM;;AAOJ,QAAI,AAAI;AACN,AAAM,eAAC,AAAI,KAAC,AAAS,AACvB;AAAC;AAED,QAAI,AAAW;AACb,AAAM,eAAC,AAAI,KAAC,AAAY,AAC1B;AAAC;AAED,AAAiB,sBAAC,AAAuB,aAAE,AAAgC;AACzE,AAAE,AAAC,YAAC,AAAI,KAAC,AAAS,aAAI,AAAI,AAAC,MAAC,AAAC;AAC3B,AAAM,mBAAC,AAAI,AACb;AAAC;AAED,AAAM,eAAC,AAAO,yCAAC,AAAI,KAAC,AAAW,aAAE,AAAW,AAAC,gBAAI,AAAO,yCAAC,AAAI,KAAC,AAAQ,UAAE,AAAQ,AAAC,AAAC,AAAC,YAAC,AAAI,KAAC,AAAS,AAAC,AAAC,YAAC,AAAI,AAC3G;AAAC;AAED,AAAiB,sBAAC,AAAY,MAAE,AAA0B,aAAE,AAAuB,aAAE,AAAgC;AACnH,AAAI,aAAC,AAAS,YAAG,AAAI;AACrB,AAAI,aAAC,AAAY,eAAG,AAAW;AAE/B,AAAI,aAAC,AAAW,cAAG,AAAW;AAC9B,AAAI,aAAC,AAAQ,WAAG,AAAQ,AAC1B;AAAC;AAED,AAAK;AACH,AAAI,aAAC,AAAS,YAAG,AAAI;AACrB,AAAI,aAAC,AAAY,eAAG,AAAI;AAExB,AAAI,aAAC,AAAW,cAAG,AAAI;AACvB,AAAI,aAAC,AAAQ,WAAG,AAAI,AACtB;AAAC,AACF","sourcesContent":["import { UpdateInfo } from \"builder-util-runtime\"\nimport isEqual from \"lodash.isequal\"\nimport { ResolvedUpdateFileInfo } from \"./main\"\n\n/** @private **/\nexport class DownloadedUpdateHelper {\n  private setupPath: string | null\n  private _packagePath: string | null\n\n  private versionInfo: UpdateInfo | null\n  private fileInfo: ResolvedUpdateFileInfo | null\n\n  get file() {\n    return this.setupPath\n  }\n\n  get packagePath() {\n    return this._packagePath\n  }\n\n  getDownloadedFile(versionInfo: UpdateInfo, fileInfo: ResolvedUpdateFileInfo): string | null {\n    if (this.setupPath == null) {\n      return null\n    }\n\n    return isEqual(this.versionInfo, versionInfo) && isEqual(this.fileInfo, fileInfo) ? this.setupPath : null\n  }\n\n  setDownloadedFile(file: string, packagePath: string | null, versionInfo: UpdateInfo, fileInfo: ResolvedUpdateFileInfo) {\n    this.setupPath = file\n    this._packagePath = packagePath\n\n    this.versionInfo = versionInfo\n    this.fileInfo = fileInfo\n  }\n\n  clear() {\n    this.setupPath = null\n    this._packagePath = null\n\n    this.versionInfo = null\n    this.fileInfo = null\n  }\n}"]}
